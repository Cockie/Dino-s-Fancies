{"_id":"3pPTzCNuGKNp3tdH","name":"Blood Splatter Directional","type":"script","author":"F2y5wQU8WbM8Qy9J","img":"icons/svg/dice-target.svg","scope":"global","command":"let tokenD = canvas.tokens.controlled[0];\nif (!tokenD) {\n  ui.notifications.warn(\"No token selected\");\n  return;\n}\n\nlet config = {\n  size: 1,\n  icon: 'worlds/fancies/assets/bloodDownRightFrame.webp',\n  drawIcon: true,\n  label: 'Blood Splat Directional',\n  tag: 'splat splat',\n  drawOutline: true,\n  rememberControlled: true\n}\n\nlet position = await warpgate.crosshairs.show(config);\nlet anim = \"\";\nlet frame = \"\"\nlet rot = 0;\nlet test = Math.floor(Math.random() * 4)+1;\nif (test == 1){\n\tanim = 'worlds/fancies/assets/bloodDownLeft.webm';\n\tframe = 'worlds/fancies/assets/bloodDownLeftFrame.webp';\n\trot = -225;\n} else if (test == 2){\n\tanim = 'worlds/fancies/assets/bloodDownRight.webm';\n\tframe = 'worlds/fancies/assets/bloodDownRightFrame.webp';\n\trot = -315;\n} else if (test == 3){\n\tanim = 'worlds/fancies/assets/bloodUpLeft.webm';\n\tframe = 'worlds/fancies/assets/bloodUpLeftFrame.webp';\n\trot = -135;\n} else if (test == 4){\n\tanim = 'worlds/fancies/assets/bloodUpRight.webm';\n\tframe = 'worlds/fancies/assets/bloodUpRightFrame.webp';\n\trot = -45;\n}\nlet sequence = new Sequence()\n\n    .effect()\n        .file(anim)\n        .atLocation(position)\n\t\t.rotateTowards(token)\n\t\t.rotate(rot+180)\n        .belowTokens()\n        .fadeOut(200)\n        .name(\"Blood splatter\")\n        .waitUntilFinished(-200)\n    .effect()\n        .file(frame)\n        .atLocation(position)\n\t\t.rotateTowards(token)\n\t\t.rotate(rot+180)\n        .belowTokens()\n        .name(\"Blood splatter\")\n        .persist()\n.play();","folder":null,"sort":0,"permission":{"default":0,"F2y5wQU8WbM8Qy9J":3},"flags":{"advanced-macros":{"runAsGM":false}}}
{"_id":"KCB6mXqyNiPMVQf4","name":"Blood Splatter Circle","type":"script","author":"F2y5wQU8WbM8Qy9J","img":"icons/svg/dice-target.svg","scope":"global","command":"let config = {\n  size: 1,\n  icon: 'worlds/fancies/assets/bloodCircleFrame.webp',\n  drawIcon: true,\n  label: 'Blood Splat Big',\n  tag: 'splat splat',\n  drawOutline: true,\n  rememberControlled: true\n}\n\nlet position = await warpgate.crosshairs.show(config);\nlet rot = Math.floor(Math.random() * 360);\nlet sequence = new Sequence()\n\n    .effect()\n        .file(\"worlds/fancies/assets/bloodCircle.webm\")\n        .atLocation(position)\n\t\t.rotate(rot)\n        .belowTokens()\n        .fadeOut(200)\n        .name(\"Blood splatter\")\n        .waitUntilFinished(-200)\n    .effect()\n        .file(\"worlds/fancies/assets/bloodCircleFrame.webp\")\n        .atLocation(position)\n\t\t.rotate(rot)\n        .belowTokens()\n        .name(\"Blood splatter\")\n        .persist()\n.play();","folder":null,"sort":0,"permission":{"default":0,"F2y5wQU8WbM8Qy9J":3},"flags":{"advanced-macros":{"runAsGM":false}}}
